{"version":3,"file":"js/495.81e5f9ea.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC,aAAa,WAAW,CAACJ,EAAIK,GAAG,QAAQH,EAAG,UAAU,CAACI,IAAI,OAAOC,MAAM,CAAC,MAAQP,EAAIQ,KAAK,cAAc,OAAO,cAAc,GAAG,MAAQR,EAAIS,MAAM,yBAAyB,KAAK,CAACP,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,aAAe,OAAOG,MAAM,CAACC,MAAOX,EAAIQ,KAAKI,SAAUC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,WAAYM,EAAI,EAAEE,WAAW,oBAAoB,GAAGd,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,aAAe,OAAOG,MAAM,CAACC,MAAOX,EAAIQ,KAAKS,SAAUJ,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,WAAYM,EAAI,EAAEE,WAAW,oBAAoB,GAAGd,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,aAAe,OAAOG,MAAM,CAACC,MAAOX,EAAIQ,KAAKU,SAAUL,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,WAAYM,EAAI,EAAEE,WAAW,oBAAoB,GAAGd,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,qBAAqB,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,aAAe,OAAOG,MAAM,CAACC,MAAOX,EAAIQ,KAAKW,iBAAkBN,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,KAAM,mBAAoBM,EAAI,EAAEE,WAAW,4BAA4B,GAAGd,EAAG,eAAe,CAACA,EAAG,YAAY,CAACK,MAAM,CAAC,GAAK,SAAS,KAAO,WAAWa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIsB,UAAU,IAAI,CAACtB,EAAIK,GAAG,QAAQH,EAAG,YAAY,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIuB,WAAW,IAAI,CAACvB,EAAIK,GAAG,QAAQH,EAAG,YAAY,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIwB,aAAa,IAAI,CAACxB,EAAIK,GAAG,UAAU,IAAI,IAAI,EACxkD,EACIoB,EAAkB,G,8BC2BtB,GACAC,OACA,gBACA,OACAb,EAAAA,IAAAA,MAAAA,WAEA,iCACA,2CAEAA,IACA,EAEA,YACA,OACAA,EAAAA,IAAAA,MAAAA,YACA,uBACAA,EAAAA,IAAAA,MAAAA,cAEAA,GACA,EAEA,OACAL,KAAAA,CACAI,SAAAA,GACAK,SAAAA,GACAC,SAAAA,GACAC,iBAAAA,IAEAV,MAAAA,CACAG,SAAAA,CACA,CAAAe,UAAAA,EAAAC,QAAAA,QAAAC,QAAAA,QACA,CAAAC,IAAAA,EAAAC,IAAAA,GAAAH,QAAAA,iBAAAC,QAAAA,SAEAZ,SAAAA,CACA,CAAAU,UAAAA,EAAAC,QAAAA,SAAAC,QAAAA,QACA,CAAAC,IAAAA,EAAAC,IAAAA,GAAAH,QAAAA,iBAAAC,QAAAA,SAEAX,SAAAA,CACA,CAAAc,UAAAA,EAAAH,QAAAA,QACA,CAAAC,IAAAA,EAAAC,IAAAA,GAAAH,QAAAA,iBAAAC,QAAAA,SAEAV,iBAAAA,CACA,CAAAa,UAAAA,EAAAH,QAAAA,QACA,CAAAC,IAAAA,EAAAC,IAAAA,GAAAH,QAAAA,iBAAAC,QAAAA,UAIA,EACAI,QAAAA,CACAX,WACA,iCACA,KAMA,CACA,wCACAY,EAAAA,UAAAA,EACA,kBACAA,EAAAA,UAAAA,SACAC,EAAAA,GAAAA,KAAAA,MAAAA,MAAAA,IACA,eACA,4BACA,QACA,yBACAC,GAAAA,qBAEA,4BAEA,cACAC,MAAAA,OACAT,QAAAA,EACAU,KAAAA,UACAC,WAAAA,GAEA,MACA,oBACAF,MAAAA,OACAT,QAAAA,EAAAA,IACAW,WAAAA,IAEAL,EAAAA,UAAAA,EACAA,EAAAA,UAAAA,CACA,IACA,WACA,oBACAG,MAAAA,OACAT,QAAAA,EACAW,WAAAA,IAEAL,EAAAA,UAAAA,EACAA,EAAAA,UAAAA,CAAAA,GAEA,MA3CA,oBACAG,MAAAA,OACAT,QAAAA,SACAW,WAAAA,GAwCA,GAEA,EACAhB,YACA,gCACA,EACAC,cACA,2BACA,ICpI4P,I,UCOxPgB,GAAY,OACd,EACAzC,EACA0B,GACA,EACA,KACA,KACA,MAIF,EAAee,EAAiB,O,6OCfhC,MAAMlB,EAAWd,GAAQiC,EAAAA,EAAAA,KAAW,mBAAoBjC,GAAMkC,MAAKC,GAAOA,EAAIjB,OAGxEkB,EAAQpC,GAAQiC,EAAAA,EAAAA,KAAW,gBAAiBjC,GAAMkC,MAAKC,GAAOA,EAAIjB,OAGlEmB,EAAK,IAAMJ,EAAAA,EAAAA,IAAW,cAAaC,MAAKC,GAAOA,EAAIjB,OAGnDoB,EAAUC,GAAMN,EAAAA,EAAAA,IAAW,gBAAeM,KAAML,MAAKC,GAAOA,EAAIjB,OAGhEsB,EAAiBxC,GAAQiC,EAAAA,EAAAA,IAAW,wBAAwBjC,GAAMkC,MAAKC,GAAOA,EAAIjB,OAGlFuB,EAAkBzC,GAAQiC,EAAAA,EAAAA,IAAW,yBAAyBjC,GAAMkC,MAAKC,GAAOA,EAAIjB,OAGpFwB,EAAiB1C,GAAQiC,EAAAA,EAAAA,IAAW,wBAAwBjC,GAAMkC,MAAKC,GAAOA,EAAIjB,OAGlFyB,EAAe3C,GAAQiC,EAAAA,EAAAA,KAAW,sBAAuBjC,GAAMkC,MAAKC,GAAOA,EAAIjB,M","sources":["webpack://giligili/./src/views/UserRegister.vue","webpack://giligili/src/views/UserRegister.vue","webpack://giligili/./src/views/UserRegister.vue?d6f2","webpack://giligili/./src/views/UserRegister.vue?9f83","webpack://giligili/./src/api/user.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"注册\")]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"status-icon\":\"\",\"rules\":_vm.rules,\"hide-required-asterisk\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"password_confirm\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.form.password_confirm),callback:function ($$v) {_vm.$set(_vm.form, \"password_confirm\", $$v)},expression:\"form.password_confirm\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"id\":\"button\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\"注册\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm()}}},[_vm._v(\"重置\")]),_c('el-button',{on:{\"click\":function($event){return _vm.toLoginPage()}}},[_vm._v(\"去登陆\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1 style=\"text-align:center\">注册</h1>\n    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" status-icon :rules=\"rules\" hide-required-asterisk>\n      <el-form-item label=\"昵称\" prop=\"nickname\">\n        <el-input v-model=\"form.nickname\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"用户名\" prop=\"username\">\n        <el-input v-model=\"form.username\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input type=\"password\" v-model=\"form.password\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码\" prop=\"password_confirm\">\n        <el-input type=\"password\" v-model=\"form.password_confirm\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button id=\"button\" type=\"primary\" @click=\"register()\">注册</el-button>\n        <el-button @click=\"resetForm()\">重置</el-button>\n        <el-button @click=\"toLoginPage()\">去登陆</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n  \n<script>\nimport * as API from '@/api/user'\nimport * as Common from '@/common'\n\nexport default {\n  data() {\n    var validatePassword = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入密码'));\n      } else {\n        if (this.form.password_confirm !== '') {\n          this.$refs.form.validateField('checkPass');\n        }\n        callback();\n      }\n    };\n    var validatePasswordConfirm = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'));\n      } else if (value !== this.form.password) {\n        callback(new Error('两次密码输入不一致'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      form: {\n        nickname: '',\n        username: '',\n        password: '',\n        password_confirm: ''\n      },\n      rules: {\n        nickname: [\n          { required: true, message: '请输入昵称', trigger: 'blur' },\n          { min: 2, max: 30, message: '长度在 2 到 30 个字符', trigger: 'blur' }\n        ],\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 5, max: 30, message: '长度在 5 到 30 个字符', trigger: 'blur' }\n        ],\n        password: [\n          { validator: validatePassword, trigger: 'blur' },\n          { min: 8, max: 40, message: '长度在 8 到 40 个字符', trigger: 'blur' }\n        ],\n        password_confirm: [\n          { validator: validatePasswordConfirm, trigger: 'blur' },\n          { min: 8, max: 40, message: '长度在 8 到 40 个字符', trigger: 'blur' }\n        ],\n      }\n    }\n  },\n  methods: {\n    register() {\n      this.$refs['form'].validate((valid) => {\n        if (!valid) {\n          this.$notify.error({\n            title: '注册失败',\n            message: '填入信息有误',\n            showClose: false\n          });\n        } else {\n          let button = document.getElementById(\"button\")\n          button.disabled = true\n          let preInner = button.innerHTML\n          button.innerHTML = \"注册中...\"\n          API.register(this.form).then((res) => {\n            if (res.code === 0) {\n              let msg = `您的用户id为${res.data.id}`\n              if (Common.checkToken()) {\n                this.$router.push('/me')\n                msg += \"；你已登陆，若想登陆新账号请先登出\"\n              } else {\n                this.$router.push('/login')\n              }\n              this.$notify({\n                title: '注册成功',\n                message: msg,\n                type: 'success',\n                showClose: false\n              });\n            } else {\n              this.$notify.error({\n                title: '注册失败',\n                message: res.msg,\n                showClose: false\n              });\n              button.disabled = false\n              button.innerHTML = preInner\n            }\n          }).catch((error) => {\n            this.$notify.error({\n              title: '注册失败',\n              message: error,\n              showClose: false\n            });\n            button.disabled = false\n            button.innerHTML = preInner\n          });\n        }\n      });\n    },\n    resetForm() {\n      this.$refs['form'].resetFields();\n    },\n    toLoginPage() {\n      this.$router.push('/login')\n    },\n  }\n}\n</script>\n  ","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserRegister.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserRegister.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserRegister.vue?vue&type=template&id=e926d1ac&\"\nimport script from \"./UserRegister.vue?vue&type=script&lang=js&\"\nexport * from \"./UserRegister.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\n\n// 用户注册\nconst register = form => axios.post('/api/v1/register', form).then(res => res.data);\n\n// 用户登陆\nconst login = form => axios.post('/api/v1/login', form).then(res => res.data);\n\n//我\nconst me = () => axios.get(`/api/v1/me`).then(res => res.data);\n\n// 用户详情\nconst getUser = id => axios.get(`/api/v1/user/${id}`).then(res => res.data);\n\n// 修改昵称\nconst updateNickname = form => axios.put(`/api/v1/user/nickname`, form).then(res => res.data);\n\n// 修改签名\nconst updateSignature = form => axios.put(`/api/v1/user/signature`, form).then(res => res.data);\n\n// 修改密码\nconst updatePassword = form => axios.put(`/api/v1/user/password`, form).then(res => res.data);\n\n// 上传头像\nconst uploadAvatar = form => axios.post('/api/v1/user/avatar', form).then(res => res.data);\n\nexport {\n    register,\n    login,\n    me,\n    getUser,\n    updateNickname,\n    updateSignature,\n    updatePassword,\n    uploadAvatar,\n};"],"names":["render","_vm","this","_c","_self","staticStyle","_v","ref","attrs","form","rules","model","value","nickname","callback","$$v","$set","expression","username","password","password_confirm","on","$event","register","resetForm","toLoginPage","staticRenderFns","data","required","message","trigger","min","max","validator","methods","button","API","msg","title","type","showClose","component","axios","then","res","login","me","getUser","id","updateNickname","updateSignature","updatePassword","uploadAvatar"],"sourceRoot":""}